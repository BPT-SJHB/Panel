---
sidebar\_position: 24
title: MobileTabBar
---

# 📱 Mobile Tab Bar Component

کامپوننت `MobileTabBarComponent` یک نوار ناوبری ثابت و شناور است که در پایین صفحه (فقط در نمای موبایل) قرار می‌گیرد. این نوار، دسترسی سریع و جذاب به صفحات اصلی و کلیدی برنامه را فراهم می‌کند. طراحی این نوار به‌گونه‌ای است که تب فعال با یک **انیمیشن جهش (Jump)** و تغییر اندازه چشمگیر از بقیه متمایز می‌شود.

---

## ⚙️ ساختار و استایل‌دهی

این کامپوننت با استفاده از Tailwind CSS و کامپوننت `ButtonModule` از PrimeNG، یک ناوبری متمرکز و واکنش‌گرا ایجاد می‌کند:

- **موقعیت‌یابی:** با استفاده از کلاس‌های `fixed`, `bottom-0`, `left-1/2`, و `-translate-x-1/2` نوار ناوبری به صورت ثابت در پایین و مرکز صفحه قرار می‌گیرد.
- **ظاهر:** دارای پس‌زمینه **`bg-primary-emphasis`** (رنگ متمرکز اولیه) و گوشه‌های گرد در بالا (`rounded-t-3xl`) است.
- **انیمیشن فعال:**
  - **دکمه (Button):** دکمه تب فعال با کلاس‌هایی مانند **`scale-170`** و **`-translate-y-2`** بزرگتر شده و به سمت بالا جابه‌جا می‌شود تا برجسته شود.
  - **متن (Span):** عنوان تب فعال نیز با `font-bold` و `text-2xl` برجسته‌تر می‌شود.

---

## 🧠 مدیریت حالت و ناوبری

### ۱. داده‌ها (Signal)

| ویژگی             | نوع                 | منبع                       | توضیح                                                                                               |
| :---------------- | :------------------ | :------------------------- | :-------------------------------------------------------------------------------------------------- |
| **`tabs`**        | `signal<TabData[]>` | تعریف شده در داخل کامپوننت | لیست ثابت تب‌هایی که در نوار پایین نمایش داده می‌شوند (پروفایل، کیف پول، صفحه اصلی، کالا، مدت سفر). |
| **`selectedTab`** | `TabComponentKey`   | حالت داخلی کامپوننت        | نگهداری از کلید کامپوننت تب فعالی که کاربر انتخاب کرده است.                                         |

### ۲. توابع کلیدی

| متد                             | نوع       | توضیح                                                                                                                                                                                                                                           |
| :------------------------------ | :-------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`onClickTab(tab: TabData)`**  | `void`    | هنگام کلیک کاربر روی یک آیکون فراخوانی می‌شود. این متد ابتدا `selectedTab` داخلی را به‌روزرسانی می‌کند و سپس اکشن **`createTab(tab)`** را به NgRx Store ارسال می‌کند. این کار باعث می‌شود `TabManagerComponent` تب مورد نظر را باز یا فعال کند. |
| **`isTabActive(tab: TabData)`** | `boolean` | یک تابع کمکی برای تعیین اینکه آیا تب فعلی باید به عنوان فعال استایل‌دهی شود یا خیر، با مقایسه `tab.component` با `this.selectedTab`.                                                                                                            |

---

## 🚀 جریان ناوبری

برخلاف ناوبری دسکتاپ که از سایدبار استفاده می‌کند، ناوبری موبایل مستقیماً با ارسال اکشن **`createTab`** به استور، با `TabManagerComponent` ارتباط برقرار می‌کند. این تضمین می‌کند که صرف نظر از اینکه تب از نوار موبایل انتخاب شده باشد یا از سایدبار دسکتاپ، منطق باز کردن و مدیریت تب همیشه در یک مکان واحد (TabManager) انجام شود.
