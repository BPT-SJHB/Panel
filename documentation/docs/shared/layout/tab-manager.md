---
sidebar_position: 19
title: TabManager
---

# ๐ TabManager Component

ฺฉุงููพูููุช `TabManagerComponent` ูุณุฆูู ูุฏุฑุช ุณุงุฎุชุงุฑ **ฺูุฏ ุชุจ (Multi-Tab)** ุฏุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ุงุตู ุจุฑูุงูู ุงุณุช. ุงู ฺฉุงููพูููุช ุงูฺฉุงู ุจุงุฒ ฺฉุฑุฏูุ ุงูุชุฎุงุจ ู ุจุณุชู ุชุจโูุง ูุฎุชูู ุจูโุตูุฑุช ูพูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ. ูุฑ ุชุจ ูโุชูุงูุฏ ุญุงู ฺฉุงููพูููุชโูุง ูุฎุชูู (Main Component) ู ููฺูู ุชุจโูุง ูุฑุน (Sub-Tabs) ุจุงุดุฏ.

ุงู ฺฉุงููพูููุช ุชุฑฺฉุจ ุงุฒ State Management ุงูฺฏููุงุฑ (NgRx) ู Reactivity ุงูฺฏููุงุฑ (Signals/Effects) ุฑุง ุจุฑุง ูุฏุฑุช ุญุงูุชโูุง ูพฺุฏู ุฑุงุจุท ฺฉุงุฑุจุฑ ูพุงุฏูโุณุงุฒ ูโฺฉูุฏ.

---

## ๐ ุชุงูพโูุง ู ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง (ูุฏูโูุง ุงุตู)

ุงู ฺฉุงููพูููุช ุจุฑุง ุชุนุฑู ุณุงุฎุชุงุฑ ุชุจโูุง ู ุฏุงุฏูโูุง ูุฑูุฏ ุฎูุฏ ุงุฒ ุงูุชุฑูุณโูุง ู ุชุงูพโูุง ุฒุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ:

### ฑ. `DynamicTab`

ุงู ุงูุชุฑูุณ ฺฉุงููโุชุฑู ุชุนุฑู ุจุฑุง ฺฉ ุชุจ ูุนุงู ุฏุฑ ุญุงูุธู ฺฉุงููพูููุช `TabManager` ุงุณุช.

| ูฺฺฏ             | ููุน                              | ุชูุถุญ                                                                                                                                                      |
| :---------------- | :------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`              | `string`                         | ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุชุจ (ูุนูููุงู UUID ุง ุดูุงุณู ุฏุงุฏู).                                                                                                        |
| `title`           | `string`                         | ุนููุงู ูุงุจู ููุงุด ุชุจ.                                                                                                                                       |
| `icon`            | `string`                         | ฺฉูุงุณ ุขฺฉูู ุจุฑุง ููุงุด ุฏุฑ ููุงุฑ ุชุจ (ูุงููุฏ `pi pi-home`).                                                                                                     |
| `closeable`       | `boolean`                        | ุขุง ฺฉุงุฑุจุฑ ูุฌุงุฒ ุจู ุจุณุชู ุงู ุชุจ ุงุณุช ุง ุฎุฑ (ูุซู ุชุจ "ุตูุญู ุงุตู" ฺฉู `false` ุงุณุช).                                                                              |
| `sharedSignal`    | `WritableSignal<any>`            | **ุงุฎุชุงุฑ.** ฺฉ ุณฺฏูุงู ฺฉู ูโุชูุงูุฏ ุจุฑุง ุจูโุงุดุชุฑุงฺฉโฺฏุฐุงุฑ ูุถุนุช ุจู ฺฉุงููพูููุชโูุง ุฏุงุฎู ุชุจ ุงุณุชูุงุฏู ุดูุฏ.                                                       |
| `cachedComponent` | `Map<number, ComponentRef<any>>` | ฺฉ Map ฺฉู ูููููโูุง ฺฉุงููพูููุชโูุง ุงุฌุงุฏ ุดุฏู ุจู ุตูุฑุช ูพูุง ุฑุง ุฐุฎุฑู ูโฺฉูุฏ ุชุง ุงุฒ ูุดุช ุญุงูุธู ุฌููฺฏุฑ ุดูุฏ ู ุฏุฑ ููฺฏุงู ุฌุงุจุฌุง ุจู Sub-Tabูุง ุณุฑุนุงู ุจุงุฑฺฏุฐุงุฑ ุดููุฏ. |
| `selectedSubTab`  | `number`                         | ุงูุฏุณ ุชุจ ูุฑุน (Sub-Tab) ูุนุงู ุฏุฑ ุญุงู ุญุงุถุฑ.                                                                                                                  |
| `config`          | `TabConfig`                      | ูพฺฉุฑุจูุฏ ุซุงุจุช ฺฉุงููพูููุช ุงุตู ฺฉู ุฏุฑ ุงู ุชุจ ูุฑุงุฑ ูโฺฏุฑุฏุ ุงุฒ `TabComponentRegistry`.                                                                          |

### ฒ. `TabItem` (ูุฏู ุฐุฎุฑูโุณุงุฒ)

ุงู ุงูุชุฑูุณ ุจุฑุง ููุงุด ุฏุงุฏูโูุง ุชุจ ุฏุฑ ุณุทูุญ ุจุงูุงุชุฑ (ูุซูุงู ุฏุฑ ุงุณุชูุฑ NgRx ุจุฑุง ุจุงุฒุงุจ ูุถุนุช ุชุจโูุง) ุงุณุชูุงุฏู ูโุดูุฏ.

| ูฺฺฏ       | ููุน               | ุชูุถุญ                                              |
| :---------- | :---------------- | :------------------------------------------------- |
| `id`        | `number`          | ุดูุงุณู ุชุจ.                                          |
| `title`     | `string`          | ุนููุงู ุชุจ.                                          |
| `closable`  | `boolean`         | ูุงุจูุช ุจุณุชู ุชุจ.                                    |
| `component` | `TabComponentKey` | ฺฉูุฏ ูุฑุจูุท ุจู ฺฉุงููพูููุช ฺฉู ุจุงุฏ ุฏุฑ ุงู ุชุจ ุฑูุฏุฑ ุดูุฏ. |
| `active`    | `boolean`         | ุขุง ุงู ุชุจุ ุชุจ ูุนุงู ูุนู ุงุณุช ุง ุฎุฑ.               |

---

## โ๏ธ ูุนูุงุฑ ู ูุฏุฑุช ุญุงูุช

ุงู ฺฉุงููพูููุช ุญุงูุชโูุง ุงุตู ุฎูุฏ ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ **`Map`** ู **`Signals`** ูุฏุฑุช ูโฺฉูุฏ:

### ฑ. `tabs` (Map)

- **ููุน:** `Map<string, DynamicTab>`
- **ูุธูู:** ุฐุฎุฑู ุชูุงู ุชุจโูุง ุจุงุฒ ุฏุฑ ุณุณุชู. ฺฉูุฏุ `id` ุชุจ ุงุณุช.
- **ููุฏุงุฑ ุงููู:** ุญุงู ฺฉ ุชุจ ุซุงุจุช ุจุฑุง **ุตูุญู ุงุตู** (`DEFAULT_MAIN_TAB_ID`) ฺฉู ูุงุจู ุจุณุชู ูุณุช.

### ฒ. `selectTab` (Signal)

- **ููุน:** `signal<DynamicTab>`
- **ูุธูู:** ูฺฏูุฏุงุฑ ุชุจ ูุนุงู ู ุงูุชุฎุงุจโุดุฏู ูุนู.
- **Effect:** ฺฉ `effect` ุจู ุงู ุณฺฏูุงู ูุชุตู ุงุณุช ฺฉู ุจูุงูุงุตูู ูพุณ ุงุฒ ุชุบุฑ `selectTab()`ุ ูุชุฏ `contentManager().loadTabContent(tab)` ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ูุญุชูุง ุชุจ ุฌุฏุฏ ุฏุฑ ูุถุง ุงุตู ุจุงุฑฺฏุฐุงุฑ ุดูุฏ.

### ณ. `hiddenSubTab` (Signal)

- **ูุธูู:** ฺฉูุชุฑู ููุงุด/ุนุฏู ููุงุด ุชุจโูุง ูุฑุน (Sub-Tabs) ุฏุฑ ุฒุฑ ููุงุฑ ุงุจุฒุงุฑ ุงุตูุ ุจุฑ ุงุณุงุณ ูุถุนุช ูุญุชูุง ูุนู ฺฉู ุงุฒ ุงุณุชูุฑ (`selectContent`) ุฎูุงูุฏู ูโุดูุฏ.

---

## ๐ ุฌุฑุงูโูุง ุฏุงุฏู ู ููฺฏุงูโุณุงุฒ

- **ุงุฌุงุฏ ู ุงูุชุฎุงุจ ุชุจ (`createOrSelectTab`):** ุงู ูุชุฏ ุจู ุณุงุจุณฺฉุฑูพุดู NgRx ุจุฑ ุฑู ุณููฺฉุชูุฑ **`selectorNewTab`** ูุชุตู ุงุณุช ู ุชุจโูุง ุฑุง ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ุฏุฑุงูุช ุงุฒ ุงุณุชูุฑ ุงุฌุงุฏ ุง ุงูุชุฎุงุจ ูโฺฉูุฏ.
- **ุจุณุชู ุชุจ (`closeTab`):** ุชุจ ุฑุง ุงุฒ Map ุญุฐู ฺฉุฑุฏูุ ููุงุจุน ุขู ุฑุง ุจุง **`destroyTabResources`** ุขุฒุงุฏ ูโฺฉูุฏุ ู ุจู ุชุจ ุฌุงฺฏุฒู (Fallback) ุณูฺ ูโฺฉูุฏ.
- **ูุฏุฑุช ุชุบุฑ ุงูุฏุงุฒู ู Redraw ุชุจโูุง:** ุงุฒ `HostListener` ู `resize$` Subject ุจุฑุง ูุงุฏุงุฑ ฺฉุฑุฏู ฺฉุงููพูููุช PrimeNG Tabs ุจู ูุญุงุณุจู ูุฌุฏุฏ (Redraw) ููฺฏุงู ุชุบุฑ ุงูุฏุงุฒู ูพูุฌุฑู ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ููุงุด Sub-Tabs ููุดู ุตุญุญ ุจุงุดุฏ.

---

## ๐พ ูุฏุฑุช ุญุงูุธู ููุงู (Caching)

- **`cachedComponent`**: ูุฑ ุชุจ ุฏุฑ ุงู Mapุ ูููููโูุง ฺฉุงููพูููุชโูุง ุฏุงูุงูฺฉ ุฏุงุฎู ุฎูุฏ ุฑุง ุฐุฎุฑู ูโฺฉูุฏ.
- **`destroyTabResources(tab)`**: ููฺฏุงู ุจุณุชู ฺฉ ุชุจุ ุงู ูุชุฏ ุชุถูู ูโฺฉูุฏ ฺฉู ุชูุงู ฺฉุงููพูููุชโูุง ุฐุฎุฑู ุดุฏู ุฏุฑ `cachedComponent` ุจุง ูุฑุงุฎูุงู **`comp.destroy()`** ุงุฒ ุจู ุจุฑููุฏ ุชุง ุงุฒ **ูุดุช ุญุงูุธู (Memory Leaks)** ุฌููฺฏุฑ ุดูุฏ.

---

## ๐ ุญุฑฺฉุช ุฑูุงู ููุงุฑ ุชุจ

- **`ngAfterViewChecked()`**: ุงู Hook ุชุถูู ูโฺฉูุฏ ฺฉู ูพุณ ุงุฒ ูุฑ ุจุงุฑ ุชุบุฑ ุชุจ ูุนุงูุ ููุงุฑ ุชุจ ุจู ุตูุฑุช ุงูู ุญุฑฺฉุช ฺฉูุฏ (`scrollIntoView`) ุชุง ุชุจ ุฌุฏุฏ ฺฉุงููุงู ุฏุฑ ุฏุฏ ฺฉุงุฑุจุฑ ูุฑุงุฑ ฺฏุฑุฏ.

### ๐๏ธ ุชูุงุจุน ู ูุชุฏูุง `TabManagerComponent`

ุงู ุจุฎุด ุชูุงุจุน ู ูุชุฏูุง ุงุตู ุฑุง ฺฉู ูุธูู ูุฏุฑุช ุชุนุงููุงุช ฺฉุงุฑุจุฑ ู ููฺฏุงูโุณุงุฒ ูุถุนุช ุชุจโูุง ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑูุฏุ ุดุฑุญ ูโุฏูุฏ.

### ุชูุงุจุน ุนููู (Public Methods)

ุงู ุชูุงุจุน ูุณุชููุงู ุชูุณุท ุฑุฎุฏุงุฏูุง ุฑุงุจุท ฺฉุงุฑุจุฑ (ูุงููุฏ ฺฉูฺฉ ุฑู ุชุจโูุง) ูุฑุงุฎูุงู ูโุดููุฏ.

| ูุชุฏ                                           | ููุน    | ุชูุถุญ                                                                                                                                                                                                                                 |
| :-------------------------------------------- | :----- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`onClickTab(tab: DynamicTab)`**             | `void` | ููฺฏุงู **ฺฉูฺฉ** ุฑู ฺฉ ุชุจ ุฏุฑ ููุงุฑ ุงุตู ูุฑุงุฎูุงู ูโุดูุฏ. ุงู ูุชุฏ `selectTab` ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ ุชุง ุชุจ ุฌุฏุฏ ูุนุงู ุดูุฏ. ุงฺฏุฑ ุฑู ุชุจ ูุนุงู ฺฉูฺฉ ุดูุฏุ ูุญุชูุง ุชุจ ูุนุงู ุฑุง ูุฌุฏุฏุงู ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ (`loadTabContent`).                          |
| **`onSubTabChange(index: string \| number)`** | `void` | ููฺฏุงู ุชุบุฑ ุชุจโูุง ูุฑุน (Sub-Tabs) ุฏุฑ ุฏุงุฎู ฺฉ ุชุจ ุงุตู ูุฑุงุฎูุงู ูโุดูุฏ. ุงู ูุชุฏ `selectedSubTab` ุฏุฑ ุขุจุฌฺฉุช `selectTab()` ุฑุง ุจูโุฑูุฒุฑุณุงู ูโฺฉูุฏ.                                                                                         |
| **`createOrSelectTab(tabData: TabData)`**     | `void` | ุชุงุจุน ูุณุชูโุง ฺฉู ุงุฒ ุทุฑู ุณุงุจุณฺฉุฑูพุดู NgRx ูุฑุงุฎูุงู ูโุดูุฏ. ุงฺฏุฑ ุชุจ ุจุง ุดูุงุณู ุฏุงุฏู ุดุฏู ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏุ ุขู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏุ ุฏุฑ ุบุฑ ุงู ุตูุฑุชุ ฺฉ **ุชุจ ุฌุฏุฏ ูพูุง** ุงุฌุงุฏ ฺฉุฑุฏูุ ุขู ุฑุง ุจู `this.tabs` ุงุถุงูู ูโฺฉูุฏ ู ุณูพุณ ุขู ุฑุง ูุนุงู ูโุณุงุฒุฏ. |
| **`closeTab(id: string)`**                    | `void` | ฺฉ ุชุจ ุจุง `id` ูุดุฎุต ุฑุง ูโุจูุฏุฏ. ุงุจุชุฏุง ููุงุจุน ุฐุฎุฑูโุดุฏู ุขู ุฑุง ุขุฒุงุฏ ูโฺฉูุฏ (`destroyTabResources`)ุ ุณูพุณ ุชุจ ุฑุง ุงุฒ `this.tabs` ุญุฐู ฺฉุฑุฏู ู ฺฉ ุชุจ ุฌุงฺฏุฒู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ.                                                                   |
| **`onWindowResized()`**                       | `void` | ฺฉ Listener ุจุฑุง ุฑุฎุฏุงุฏ ุชุบุฑ ุงูุฏุงุฒู ูพูุฌุฑู ุงุณุช (`@HostListener`). ูุฑ ุจุงุฑ ฺฉู ูพูุฌุฑู ุชุบุฑ ุงูุฏุงุฒู ูโุฏูุฏุ `resize$` Subject ุฑุง ูุนุงู ูโฺฉูุฏ. ุงู ฺฉุงุฑ ุจุฑุง ุงุตูุงุญ ููุงุด ุชุจโูุง ูุฑุน PrimeNG ุถุฑูุฑ ุงุณุช.                                       |

---

### ุชูุงุจุน ฺฉูฺฉ ุฎุตูุต (Private Helpers)

ุงู ุชูุงุจุน ููุทู ูพฺุฏู ูุฏุฑุช ุญุงูุช ู ุญุงูุธู ุฑุง ูพุงุฏูโุณุงุฒ ูโฺฉููุฏ ู ูุณุชููุงู ูุฑุงุฎูุงู ููโุดููุฏ.

| ูุชุฏ                                        | ููุน                  | ุชูุถุญ                                                                                                                                                                                                                                                                                      |
| :----------------------------------------- | :------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`getFallbackTab(closedTabId: string)`**  | `DynamicTab \| null` | ูพุณ ุงุฒ ุจุณุชู ุชุจ ูุนุงูุ ุงู ูุชุฏ **ุชุจ ุฌุงฺฏุฒู** ุฑุง ูพุฏุง ูโฺฉูุฏ. ููุทู ุขู ุจู ุงู ุตูุฑุช ุงุณุช ฺฉู ุชุจ ูุจู ุฏุฑ ูุณุช ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ ู ุงฺฏุฑ ูุฌูุฏ ูุฏุงุดุชุ ุงููู ุชุจ (ุตูุญู ุงุตู) ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ.                                                                                                            |
| **`destroyTabResources(tab: DynamicTab)`** | `void`               | ูุณุฆูู **ุขุฒุงุฏ ฺฉุฑุฏู ููุงุจุน ุญุงูุธู** ฺฉ ุชุจ ุจุณุชู ุดุฏู ุงุณุช. ุชูุงู ูููููโูุง ฺฉุงููพูููุช ุฐุฎุฑูโุดุฏู (`cachedComponent`) ุฑุง ูุฑูุฑ ฺฉุฑุฏู ู ูุชุฏ `destroy()` ุฑุง ุฑู ุขูโูุง ูุฑุงุฎูุงู ูโฺฉูุฏ ุชุง ุงุฒ ูุดุช ุญุงูุธู ุฌููฺฏุฑ ุดูุฏ.                                                                                         |
| **`resetTabs()`**                          | `void`               | **ุชูุงู ุชุจโูุง ุจุงุฒ ุฑุง ูพุงฺฉุณุงุฒ ูโฺฉูุฏ** ู ุชููุง ุชุจ ูพุดโูุฑุถ (ุตูุญู ุงุตู) ุฑุง ุฏูุจุงุฑู ุชูุธู ู ูุนุงู ูโุณุงุฒุฏ. ุงู ุชุงุจุน ุชููุง ฺฉ ุจุงุฑ ููฺฏุงู ุฑุงูโุงูุฏุงุฒ ุงููู ู ูุจู ุงุฒ ุจุงุฑฺฏุฐุงุฑ ูุญุชูุง ุงููู ุชุจ ุชูุณุท `effect` ูุฑุงุฎูุงู ูโุดูุฏ ุชุง ุงุฒ ุจุงุฑฺฏุฐุงุฑ ุชุตุงุฏู ูุญุชูุง ุชุจ ูพุดโูุฑุถ ุฌููฺฏุฑ ุดูุฏ (`tabsCached = true`). |

---

### ูุฏุฑุช ฺุฑุฎูโุญุงุช (Lifecycle & Subscriptions)

| ูุชุฏ                        | ููุน                 | ุชูุถุญ                                                                                                                                                                                  |
| :------------------------- | :------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`constructor()`**        | `effect`            | ฺฉ `effect` ุงูฺฏููุงุฑ ุชุนุฑู ูโฺฉูุฏ ฺฉู ูุฑ ุฒูุงู `selectTab()` ุชุบุฑ ฺฉูุฏุ ูุญุชูุง ุฌุฏุฏ ุชุจ ุฑุง ุจุง ูุฑุงุฎูุงู `manager.loadTabContent()` ุจุงุฑฺฏุฐุงุฑ ูโฺฉูุฏ.                                         |
| **`ngOnInit()`**           | `Subject.subscribe` | ุณุงุจุณฺฉุฑูพุดู ูุฑุจูุท ุจู **`resize$`** ุฑุง ุฑุงูโุงูุฏุงุฒ ูโฺฉูุฏ. ุงู ุณุงุจุณฺฉุฑูพุดู ุจุง `auditTime` ูุฑฺฉุงูุณ ุงุฌุฑุง ููุทู ุงุตูุงุญ UI (ุจุฑุง ุชุจโูุง ูุฑุน) ุฑุง ฺฉูุชุฑู ูโฺฉูุฏ.                                  |
| **`ngAfterViewInit()`**    | `Store.select`      | ุจู ุฏู ุณูฺฉุชูุฑ NgRx ุณุงุจุณฺฉุฑูพุดู ูโุฏูุฏ: ฑ. **`selectorNewTab`** ุจุฑุง ุงุฌุงุฏ ุชุจโูุง ุฌุฏุฏ. ฒ. **`selectContent`** ุจุฑุง ูุฏุฑุช ุญุงูุช ููุงุด ุชุจโูุง ูุฑุน (`hiddenSubTab`).                       |
| **`ngAfterViewChecked()`** | `scrollIntoView`    | ูพุณ ุงุฒ ูุฑ ุจูโุฑูุฒุฑุณุงู ููุงุดุ ุจุฑุฑุณ ูโฺฉูุฏ ฺฉู ุขุง ุชุจ ูุนุงู ุชุบุฑ ฺฉุฑุฏู ุงุณุช ุง ูู. ุงฺฏุฑ ุชุบุฑ ฺฉุฑุฏู ุจุงุดุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ `scrollIntoView` ููุงุฑ ุชุจ ุฑุง ุจู ุตูุฑุช ุฑูุงู ุจู ุณูุช ุชุจ ูุนุงู ุญุฑฺฉุช ูโุฏูุฏ. |
| **`ngOnDestroy()`**        | `Subject.complete`  | ุชูุงู ููุงุจุน RxJS ู `cachedComponent` ุฑุง ูพุงฺฉุณุงุฒ ูโฺฉูุฏ ุชุง ุงุฒ ูุดุช ุญุงูุธู ุฏุฑ ููฺฏุงู ูุงุจูุฏ ฺฉุงููพูููุช ุฌููฺฏุฑ ุดูุฏ.                                                                            |
