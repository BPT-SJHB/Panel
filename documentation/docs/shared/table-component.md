---
sidebar_position: 16
title: Table
---

# ๐ Table Component

ฺฉุงููพูููุช `TableComponent` ฺฉ ฺฉุงููพูููุช ุฌุฏูู ุนููู (Generic Table) ุงุณุช ฺฉู ูุงุจูุชโูุง ูพุดุฑูุชูโุง ูุงููุฏ **ุตูุญูโุจูุฏ (Pagination)**ุ **ูุฑุชุจโุณุงุฒ (Sorting)**ุ **ุชุนุงูู ุจุง ุณูููโูุง** (ุฏฺฉููุ ุขฺฉููุ ฺฺฉโุจุงฺฉุณ) ู **ุงูุชุฎุงุจ ุฑุฏู** ุฑุง ุจุฑุง ููุงุด ุณุงุฎุชุงุฑุงูุชู ุฏุงุฏูโูุง ูุฑุงูู ูโฺฉูุฏ.

ุงู ฺฉุงููพูููุช ุจุง ุงุณุชูุงุฏู ุงุฒ PrimeNG `p-table` ูพุงุฏูโุณุงุฒ ุดุฏู ู ุงุฒ ุชุงูพโูุง ุนููู (Generics) ุงูฺฏููุงุฑ (`<T extends object>`) ุจุฑุง ุชุถูู ุงููุช ููุน ุฏุงุฏูโูุง ุจูุฑู ูโุจุฑุฏ.

---

## โ๏ธ ุชุงูพโูุง ู ุณุงุฎุชุงุฑ ุฏุงุฏูโูุง

### `TableColumn<T>`

ุงู ุงูุชุฑูุณ ูุญูู ููุงุด ู ุชุนุงูู ุจุง ูุฑ ุณุชูู ุฏุฑ ุฌุฏูู ุฑุง ุชุนุฑู ูโฺฉูุฏ:

| ูฺฺฏ            | ููุน                                 | ุชูุถุญ                                                                                                                |
| :--------------- | :---------------------------------- | :------------------------------------------------------------------------------------------------------------------- |
| `header`         | `string`                            | ูุชู ุณุฑุจุฑฺฏ ุณุชูู.                                                                                                      |
| `field`          | `keyof T`                           | ูุงู ููุฏ ุฏุฑ ุขุจุฌฺฉุช ุฏุงุฏู (`T`) ฺฉู ูุฑุงุฑ ุงุณุช ููุงุด ุฏุงุฏู ุดูุฏ.                                                             |
| `type`           | `TableColumnType`                   | **ุงุฎุชุงุฑ.** ููุน ุงูููุช ููุงุด ุฏุงุฏู ุดุฏู ุฏุฑ ุณููู (ูุชูุ ุฏฺฉููุ ฺฺฉโุจุงฺฉุณ ู ...). ูพุดโูุฑุถ: `TEXT`.                           |
| `class`          | `string \| ((row: T) => string)`    | **ุงุฎุชุงุฑ.** ฺฉูุงุณโูุง CSS ุจุฑุง ุงุณุชุงูโุฏู ุจู ุณููู. ูโุชูุงูุฏ ฺฉ ุชุงุจุน ุจุงุดุฏ ฺฉู ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ุฑุฏู ฺฉูุงุณ ุฑุง ุชููุฏ ฺฉูุฏ. |
| `buttonSeverity` | `ButtonSeverity`                    | **ููุท ุจุฑุง ููุน `BUTTON` ู `BUTTON_ICON`.** ุฑูฺฏ ู ุงููุช ุฏฺฉูู.                                                         |
| `onAction`       | `(row: T) => void \| Promise<void>` | **ููุท ุจุฑุง ุฏฺฉููโูุง ู ฺฺฉโุจุงฺฉุณโูุง.** ุชุงุจุน ฺฉู ููฺฏุงู ุชุนุงูู ุจุง ุงูููุช ุฏุฑ ุขู ุณููู ุงุฌุฑุง ูโุดูุฏ.                             |
| `sorting`        | `boolean`                           | **ุงุฎุชุงุฑ.** ุงฺฏุฑ `false` ุจุงุดุฏุ ูุฑุชุจโุณุงุฒ ุฑุง ุจุฑุง ุงู ุณุชูู ุบุฑูุนุงู ูโฺฉูุฏ. ูพุดโูุฑุถ: `true`.                           |
| `format`         | `'currency'`                        | **ุงุฎุชุงุฑ.** ุงุนูุงู ูุฑูุชโุจูุฏ ุฎุงุต (ูุนูุงู ููุท `currency` ุจุฑุง ุงุนุฏุงุฏ).                                                  |

### `TableColumnType`

ฺฉ Enum ฺฉู ููุน ูุญุชูุง ูุงุจู ููุงุด ุฏุฑ ุณููู ุฌุฏูู ุฑุง ูุดุฎุต ูโฺฉูุฏ:

- **`TEXT`**: ูุชู ุณุงุฏู (ูพุดโูุฑุถ).
- **`ICON`**: ฺฉ ุขฺฉูู (ูุงุฒ ุจู ุชุนุฑู ฺฉูุงุณ ุขฺฉูู ุฏุฑ ููุฏ ุฏุงุฑุฏ).
- **`BUTTON`**: ฺฉ ุฏฺฉูู ูุชู.
- **`BUTTON_ICON`**: ฺฉ ุฏฺฉูู ุจุง ุขฺฉูู (ูุงููุฏ ูุฑุงุด ุง ุญุฐู).
- **`BOOLEAN`**: ููุงุด `true`/`false` ุจู ุตูุฑุช ูุชู ุง ุขฺฉูู.
- **`CHECKBOX`**: ฺฉ ฺฺฉโุจุงฺฉุณ ุชุนุงูู.

---

## ๐จ ุงุณุชุงูโูุง ุงฺฉุดู ูพุฑฺฉุงุฑุจุฑุฏ

ุงุณุชุงูโูุง ุงุฒ ูพุด ุชุนุฑู ุดุฏู ุจุฑุง ุณุชููโูุง ุนููุงุช ุฑุงุฌ:

| ูุชุบุฑ        | ููุฏุงุฑ          | ุชูุถุญ                                                  |
| :----------- | :------------- | :----------------------------------------------------- |
| `editCell`   | `pi pi-pencil` | ุขฺฉูู ูุฏุงุฏ ุจุฑุง ุนููุงุช **ูุฑุงุด** ุจุง ุงููุช `info`.     |
| `deleteCell` | `pi pi-trash`  | ุขฺฉูู ุณุทู ุฒุจุงูู ุจุฑุง ุนููุงุช **ุญุฐู** ุจุง ุงููุช `danger`. |

ุงูโูุง ุขุจุฌฺฉุชโูุง ุขูุงุฏูโุง ูุณุชูุฏ ฺฉู ูโุชูุงููุฏ ุจู ุขุฑุงู `columns` ุงุถุงูู ุดููุฏ.

---

## โ๏ธ ูุฑูุฏโูุง (Inputs) ู ุฎุฑูุฌโูุง (Outputs)

| ูุงู                            | ููุน                              | ุชูุถุญ                                                               |
| :----------------------------- | :------------------------------- | :------------------------------------------------------------------ |
| `@Input() rows`                | `(T \| null)[]`                  | ุขุฑุงู ุฏุงุฏูโูุง ฺฉู ูุฑุงุฑ ุงุณุช ุฏุฑ ุฌุฏูู ููุงุด ุฏุงุฏู ุดููุฏ.                |
| `@Input() columns`             | `TableColumn<T>[]`               | ูพฺฉุฑุจูุฏ ุขุฑุงูโุง ุณุชููโูุง.                                          |
| `@Input() rowClass`            | `string \| ((row: T) => string)` | **ุงุฎุชุงุฑ.** ฺฉูุงุณ CSS ุจุฑุง ุงุนูุงู ุจู ุชฺฏ `<tr>` ุฑุฏูโูุง.              |
| `@Input() enableCaptionButton` | `boolean`                        | ุงฺฏุฑ `true` ุจุงุดุฏุ ฺฉ ุฏฺฉูู ุฏุฑ ุจุงูุง ุฌุฏูู (Caption) ููุงุด ุฏุงุฏู ูโุดูุฏ. |
| `@Input() captionButtonLabel`  | `string`                         | ูุชู ุฏฺฉูู Caption (ูพุดโูุฑุถ: 'ุฌุฏุฏ').                                 |
| `@Input() loading`             | `boolean`                        | ููุงุด ฺฉ ููุฏูฺฏ ุงูุฏฺฉุชูุฑ ุฏุฑ ุฒูุงู ุจุงุฑฺฏุฐุงุฑ ุฏุงุฏูโูุง.                |
| `@Input() customSort`          | `boolean`                        | ุงฺฏุฑ `true` ุจุงุดุฏุ ูุฑุชุจโุณุงุฒ ุจู ุตูุฑุช ุฏุณุช ุชูุณุท ูุงูุฏ ูุฏุฑุช ูโุดูุฏ.    |
| `@Input() selectionMode`       | `'single' \| 'multiple'`         | **ุงุฎุชุงุฑ.** ูุนุงูโุณุงุฒ ุงูุชุฎุงุจ ุชฺฉโุฑุฏู ุง ฺูุฏุฑุฏู.                 |
| `@Output() clickCaptionButton` | `EventEmitter<void>`             | ููฺฏุงู ฺฉูฺฉ ุจุฑ ุฑู ุฏฺฉูู Caption ุตุงุฏุฑ ูโุดูุฏ.                         |
| `@Output() pageChange`         | `EventEmitter<TablePage>`        | ููฺฏุงู ุชุบุฑ ุตูุญูโุจูุฏ (Pagination) ุตุงุฏุฑ ูโุดูุฏ.                     |
| `@Output() sortFunction`       | `EventEmitter<SortEvent>`        | ููฺฏุงู ูุฑุชุจโุณุงุฒ ุณูุงุฑุด ุตุงุฏุฑ ูโุดูุฏ (`customSort` ุจุงุฏ `true` ุจุงุดุฏ). |
| `@Output() rowSelect`          | `EventEmitter<T>`                | ููฺฏุงู ุงูุชุฎุงุจ ฺฉ ุฑุฏู (ุฏุฑ ุญุงูุช `single`) ุตุงุฏุฑ ูโุดูุฏ.                |
| `@Output() rowSelectMultiple`  | `EventEmitter<T[]>`              | ููฺฏุงู ุงูุชุฎุงุจ ุฑุฏูโูุง (ุฏุฑ ุญุงูุช `multiple`) ุตุงุฏุฑ ูโุดูุฏ.              |

---

## ๐ง ููุทูโูุง ุฏุงุฎู ฺฉูุฏ

1.  **`onCheckboxChange`**: ููุฏุงุฑ ฺฺฉโุจุงฺฉุณ ุฑุง ุจู ููุฏ ูุฑุจูุทู ุฏุฑ ุขุจุฌฺฉุช ุฏุงุฏูโูุง ุงุนูุงู ฺฉุฑุฏู ู ุชุงุจุน `onAction` ุณุชูู ุฑุง ูุฑุงุฎูุงู ูโฺฉูุฏ.
2.  **`applyFormat`**: ุฏุฑ ุญุงู ุญุงุถุฑ ููุท ูุฑูุชโุจูุฏ **`currency`** ุฑุง ุงุนูุงู ูโฺฉูุฏุ ฺฉู ุงุนุฏุงุฏ ุฑุง ุจุง ฺฉุงูุง ุฌุฏุง ูโฺฉูุฏ.
3.  **`getColumnClass` / `getTdClass`**: ุงู ูุชุฏูุง ููุทู ุชูุงุจุน ุฑุง ฺฉู ุจู ุนููุงู ฺฉูุงุณ ุฏุฑ `TableColumn` ุง `rowClass` ุชุนุฑู ุดุฏูโุงูุฏุ ุงุฌุฑุง ูโฺฉููุฏ ุชุง ฺฉูุงุณโูุง CSS ุณูุงุฑุด ู ูพูุง ุงุนูุงู ุดููุฏ.
4.  **`rowTableSelect` / `rowTableUnSelect`**: ุงู ูุชุฏูุง ุจุฑุง ูุฏุฑุช ุฑูุฏุงุฏูุง ุฏุงุฎู PrimeNG ุฏุฑ ุฒูุงู ุงูุชุฎุงุจ/ุนุฏู ุงูุชุฎุงุจ ุฑุฏู ุงุณุชูุงุฏู ูโุดููุฏ ู ูุทูุฆู ูโุดููุฏ ฺฉู ุฎุฑูุฌโูุง (`rowSelect`, `rowSelectMultiple` ู...) ุจุง ููุน ุฏุงุฏูโูุง ุตุญุญ ุตุงุฏุฑ ุดููุฏ.

## ๐ ููููู ฺฉุฏ ุงุณุชูุงุฏู ุงุฒ TableComponent

ุงู ูุซุงู ูุญูู ุชุนุฑู ุขุฑุงู ุณุชููโูุง (`columns`)ุ ุชุนุฑู ุฏุงุฏูโูุง (`rows`) ู ูุฏุฑุช ุฑูุฏุงุฏูุง ุฌุฏูู (ูุงููุฏ ุตูุญูโุจูุฏ ู ุฏฺฉูู ฺฉูพุดู) ุฑุง ุฏุฑ ฺฉ ฺฉุงููพูููุช ูุงูุฏ ูุดุงู ูโุฏูุฏ.

### ฑ. ุชุนุฑู ูุฏู ุฏุงุฏู (ูุฏู ูพุฑุณูู)

ุงุจุชุฏุง ูุฏู ุฏุงุฏูโุง ฺฉู ูุฑุงุฑ ุงุณุช ุฏุฑ ุฌุฏูู ููุงุด ุฏุงุฏู ุดูุฏ ุฑุง ุชุนุฑู ูโฺฉูู:

```typescript
// personnel.model.ts
export interface Personnel {
  id: number;
  name: string;
  nationalCode: string; // ฺฉุฏ ูู
  salary: number; // ุญููู
  isActive: boolean;
  department: string;
  edit: string; // ุจุฑุง ุณุชูู ูุฑุงุด
  delete: string; // ุจุฑุง ุณุชูู ุญุฐู
}
```

---

### ฒ. ฺฉุงููพูููุช ูุงูุฏ (PersonnelListComponent)

ุฏุฑ ุงู ฺฉุงููพูููุชุ ูพฺฉุฑุจูุฏ ุณุชููโูุง ุงูุฌุงู ุดุฏู ู ุฏุงุฏูโูุง ูุฏุฑุช ูโุดููุฏ.

```typescript
// personnel-list.component.ts
import { Component, OnInit } from "@angular/core";
import {
  TableColumn,
  TableColumnType,
  deleteCell,
  editCell,
  TablePage,
} from "app/components/shared/table/table.component";
import { Personnel } from "./personnel.model";
import { ToastService } from "app/services/toast-service/toast.service";
// ... ุณุงุฑ ุงููพูุฑุชโูุง

@Component({
  selector: "app-personnel-list",
  templateUrl: "./personnel-list.component.html",
  // ...
})
export class PersonnelListComponent implements OnInit {
  // ุชุฒุฑู ุณุฑูุณโูุง
  private toast = inject(ToastService);

  // ๐ ุฏุงุฏูโูุง ุฌุฏูู
  personnelRows: Personnel[] = [
    {
      id: 1,
      name: "ุนู ุงุญูุฏ",
      nationalCode: "0012345678",
      salary: 50000000,
      isActive: true,
      department: "ูุงู",
      edit: editCell.value,
      delete: deleteCell.value,
    },
    {
      id: 2,
      name: "ุฒูุฑุง ฺฉุฑู",
      nationalCode: "0029876543",
      salary: 75000000,
      isActive: false,
      department: "ูุฑูุด",
      edit: editCell.value,
      delete: deleteCell.value,
    },
    // ... ุฏุงุฏูโูุง ุจุดุชุฑ
  ];

  // ๐ ูพฺฉุฑุจูุฏ ุณุชููโูุง
  personnelColumns: TableColumn<Personnel>[] = [
    { header: "ุดูุงุณู", field: "id", sorting: true, class: "font-bold" },
    { header: "ูุงู ู ูุงู ุฎุงููุงุฏฺฏ", field: "name" },
    { header: "ฺฉุฏ ูู", field: "nationalCode" },
    {
      header: "ุญููู (ุฑุงู)",
      field: "salary",
      type: TableColumnType.TEXT,
      format: "currency",
    },
    { header: "ูุถุนุช ูุนุงู", field: "isActive", type: TableColumnType.BOOLEAN },
    {
      header: "ูุงุญุฏ ุณุงุฒูุงู",
      field: "department",
      // ฺฉูุงุณ ุณูุงุฑุด ุจุฑ ุงุณุงุณ ุฏุงุฏูโูุง ุฑุฏู
      class: (row) =>
        row.department === "ูุงู" ? "text-blue-600" : "text-orange-600",
    },
    // ุณุชูู ูุฑุงุด
    {
      ...editCell.config,
      field: "edit",
      onAction: async (row) => await this.onEditPersonnel(row),
    },
    // ุณุชูู ุญุฐู
    {
      ...deleteCell.config,
      field: "delete",
      onAction: async (row) => await this.onDeletePersonnel(row),
    },
  ];

  // ๐ง ุชูุงุจุน ูุฏุฑุช ุงฺฉุดูโูุง
  async onEditPersonnel(row: Personnel) {
    this.toast.info("ูุฑุงุด", `ุดูุง ูพุฑุณูู ${row.name} ุฑุง ูุฑุงุด ูโฺฉูุฏ.`);
    // ููุทู ุจุงุฒ ฺฉุฑุฏู ููุฏุงู ูุฑุงุด
  }

  async onDeletePersonnel(row: Personnel) {
    // ููุทู ุจุงุฒ ฺฉุฑุฏู ุฏุงููฺฏ ุชุฃุฏ ุญุฐู
    this.toast.danger("ุญุฐู", `ูพุฑุณูู ${row.name} ุญุฐู ุดุฏ.`);
  }

  onNewPersonnel() {
    this.toast.success("ุงูุฒูุฏู", "ุขูุงุฏู ุจุฑุง ุซุจุช ูพุฑุณูู ุฌุฏุฏ.");
    // ููุทู ุจุงุฒ ฺฉุฑุฏู ููุฏุงู ุซุจุช ุฌุฏุฏ
  }

  onPaginationChange(event: TablePage) {
    console.log("ุชุบุฑ ุตูุญู:", event);
    // ููุทู ูุงฺฉุด ุฏุงุฏูโูุง ุฌุฏุฏ ุจุฑุง ุตูุญู (event.page)
  }

  // ...
}
```

---

### ณ. ูุงูุจ HTML

```html
<div class="card p-4">
  <h2 class="text-xl font-bold mb-4">ูุณุช ูพุฑุณูู</h2>

  <app-table
    [rows]="personnelRows"
    [columns]="personnelColumns"
    [enableCaptionButton]="true"
    captionButtonLabel="ุงูุฒูุฏู ูพุฑุณูู ุฌุฏุฏ"
    (clickCaptionButton)="onNewPersonnel()"
    (pageChange)="onPaginationChange($event)"
    [loading]="isLoading"
    [rowClass]="'hover:bg-surface-50 dark:hover:bg-surface-800 cursor-pointer'"
    selectionMode="single"
    (rowSelect)="onRowSelect($event)"
  ></app-table>
</div>
```
