---
sidebar_position: 1
title: SearchAutoComplete
---


# ๐ SearchAutoCompleteComponent

ฺฉุงููพูููุช `SearchAutoCompleteComponent` ฺฉ ูุฑูุฏ ูพุดุฑูุชู ุฌุณุชุฌู ุจุง ูุงุจูุช **ุชฺฉูู ุฎูุฏฺฉุงุฑ (Autocomplete)** ุงุณุช ฺฉู ุงุฒ **Reactive Forms** ุงูฺฏููุงุฑ ู **PrimeNG** ุจูุฑู ูโุจุฑุฏ. ุงู ฺฉุงููพูููุช ุจุฑุง ุฌุณุชุฌู ุฏุงุฏูโูุง ุงุฒ ููุงุจุน ูุญู ุง ุณุฑูุณโูุง API ุงุฒ ุทุฑู ฺฉ ุชุงุจุน `lazySearch` ุทุฑุงุญ ุดุฏู ู ุดุงูู ูฺฉุงูุณูโูุง ฺฉุดูฺฏ ููุดููุฏ ุจุฑุง ุจูููโุณุงุฒ ุนููฺฉุฑุฏ ุงุณุช.

-----

## ๐ ูฺฺฏโูุง ฺฉูุฏ

  * **Reactive Forms:** ุงุชุตุงู ุจู `FormControl` ุจุฑุง ูุฏุฑุช ูุฑูุฏ ุฌุณุชุฌู.
  * **ฺฉุดูฺฏ ููุดููุฏ:** ุงูฺฉุงู ฺฉุด ฺฉุฑุฏู ูุชุงุฌ ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ูพุดููุฏ ฺฉุงุฑุงฺฉุชุฑูุง (`CharacterPrefix`) ุง ููฺฉูุณ (`Focus`) ุจุฑุง ฺฉุงูุด ุฏุฑุฎูุงุณุชโูุง API.
  * **ุฌุณุชุฌู ุชูุจู (Lazy Search):** ูุงุจูุช ูุฑุงุฎูุงู ฺฉ ุชุงุจุน ูุงููฺฏุงู (`Promise`) ุจุฑุง ูุงฺฉุด ุฏุงุฏูโูุง ุงุฒ ุณุฑูุฑ.
  * **ฺฉูุชุฑู UI:** ูุฏุฑุช ฺฉุงูู ููุงุด ูุณุช ูพุดููุงุฏุงุชุ ููุฏูฺฏุ ู ูุงูุจุฑ ุจุง ฺฉุจูุฑุฏ (`ArrowUp/Down`, `Enter`).
  * **ุณูุงุฑุดโุณุงุฒ:** ูุงุจูุช ุชุนู ุขฺฉููุ ุจุฑฺุณุจุ ู ูุญุฏูุฏุช ุทูู ุญุฏุงูู ุฌุณุชุฌู (`minLength`).

-----

## โ๏ธ ูุฑูุฏโูุง (Inputs)

| ูุงู | ููุน | ูพุดโูุฑุถ | ุชูุถุญ |
| :--- | :--- | :--- | :--- |
| `control` | `FormControl` | `new FormControl('')` | **ุถุฑูุฑ.** ฺฉูุชุฑู ูุฑู ุฑโุงฺฉุชู ุจุฑุง ุงุชุตุงู ุฏุงุฏู. |
| `lazySearch` | `(query: string) => Promise<T[]>` | `undefined` | **ุชุงุจุน ุฌุณุชุฌู.** ูุชุฏ ุจุฑุง ูุฑุงุฎูุงู API ู ูุงฺฉุด ูพุดููุงุฏุงุช. |
| `allOptions` | `T[]` | `[]` | ูุณุช ฺฉุงูู ฺฏุฒููโูุง (ุจุฑุง ุฌุณุชุฌู ููฺฉุงู ุฏุฑ ุตูุฑุช ุนุฏู ูุฌูุฏ `lazySearch`). |
| `minLength` | `number` | `3` | ุญุฏุงูู ุชุนุฏุงุฏ ฺฉุงุฑุงฺฉุชุฑ ุจุฑุง ุดุฑูุน ุนููุงุช ุฌุณุชุฌู. |
| `cachingEnabled` | `boolean` | `true` | ูุนุงู ุง ุบุฑูุนุงู ฺฉุฑุฏู ูฺฉุงูุณู ฺฉุดูฺฏ. |
| `cachingMode` | `'CharacterPrefix' \| 'Focus'` | `'CharacterPrefix'` | ูุญูู ุงุนูุงู ฺฉุดูฺฏ: **`CharacterPrefix`** (ูพุดููุฏ ฺฉุงุฑุงฺฉุชุฑูุง) ุง **`Focus`** (ููุท ููฺฏุงู ููฺฉูุณ). |
| `optionLabel` | `keyof T` | `undefined` | ฺฉูุฏ (Property) ุขุจุฌฺฉุช `T` ฺฉู ุจุงุฏ ุจู ุนููุงู ูุชู ููุงุด ุฏุงุฏู ุดูุฏ. |
| `placeholder` | `string` | `'ุฌุณุชุฌู'` | ูุชู ุฑุงูููุง ุฏุฑูู ูุฑูุฏ. |
| `icon` | `string` | `'pi pi-search'` | ฺฉูุงุณ ุขฺฉูู ููุงุด ุฏุงุฏู ุดุฏู ุฏุฑ ูุฑูุฏ. |
| `label` | `string` | `''` | ุจุฑฺุณุจ ูุชู ฺฉูุงุฑ ูุฑูุฏ. |
| `addonWidth` | `string` | `''` | ุนุฑุถ ุจุฎุด ุขฺฉูู ุง Addon. |
| `readOnly` | `boolean` | `false` | ุญุงูุช ููุทโุฎูุงูุฏู. |
| `disabled` | `boolean` | `false` | ุบุฑูุนุงู ฺฉุฑุฏู ฺฉูุชุฑู. |
| `language` | `'fa' \| 'en'` | `'fa'` | ูุญุฏูุฏุช ุฒุจุงู ูุฑูุฏ. |
| `showIconOptionSelected` | `boolean` | `false` | ููุงุด ุขฺฉูู ฺฉูุงุฑ ฺฏุฒููโ ุงูุชุฎุงุจ ุดุฏู. |
| `optionValue` | `string` | `'value'` | (ุงุณุชูุงุฏู ูุดุฏู ุฏุฑ ฺฉุฏ ุจุฒูุฏ ุญุฐู ุฎูุงูุฏ ุดุฏ ุฏุฑ ูุณุฎู ูพุดู ููุฑุฏ ุงุณุชูุงุฏู ูุฑุงุฑ ู ฺฏุฑูุช) |
| `id` | `string` | `uuidV4()` | ุดูุงุณูโ ฺฉุชุง ุจุฑุง ฺฉุงููพูููุช. |

-----

## ๐ค ุฑูุฏุงุฏูุง (Outputs)

| ูุงู | ููุน | ุชูุถุญ |
| :--- | :--- | :--- |
| `valueChange` | `EventEmitter<string>` | ุงูุชุดุงุฑ ููฺฏุงู ุชุบุฑ ููุฏุงุฑ ูุฑูุฏ ุชูุณุท ฺฉุงุฑุจุฑ. |
| `selectSuggestion` | `EventEmitter<T>` | ุงูุชุดุงุฑ ููฺฏุงู ุงูุชุฎุงุจ ฺฉ ูพุดููุงุฏ ุงุฒ ูุณุช. |

-----

## ๐ง ููุทู ู ูุชุฏูุง

| ูุชุฏ/ูฺฺฏ | ููุน | ุชูุถุญ |
| :--- | :--- | :--- |
| `onSearch(term: string)` | `Async Method` | ูุณุชูโ ุฌุณุชุฌู: ุจุฑุฑุณ `minLength`ุ ุงุณุชูุงุฏู ุงุฒ ฺฉุดุ ู ุฏุฑ ุตูุฑุช ูุฒููุ ูุฑุงุฎูุงู `fetchAndCacheSuggestions`. |
| `fetchAndCacheSuggestions()` | `Async Method` | ุงุฌุฑุง `lazySearch`ุ ุฐุฎุฑู ูุชุงุฌ ุฏุฑ `cachedResults` ู ุจูโุฑูุฒุฑุณุงู `suggestions`. |
| `filterSuggestions()` | `Private Method` | ููุชุฑ ฺฉุฑุฏู ูุณุช ฺฏุฒููโูุง ุจุฑ ุงุณุงุณ ฺฉูุฆุฑ ูุนู (ููฺฉุงู). |
| `onFocusInput()` | `Method` | ุชูุธู ุนุฑุถ Dropdown ู ุดุฑูุน ุฌุณุชุฌู ุฏุฑ ุญุงูุช `cachingMode: 'Focus'`. |
| `onSelectAutoComplete(value: T)` | `Method` | ุชูุธู ููุฏุงุฑ ูุฑูุฏ ุจู ุจุฑฺุณุจ ฺฏุฒูู ุงูุชุฎุงุจ ุดุฏู ู ุงูุชุดุงุฑ ุฑูุฏุงุฏ `selectSuggestion`. |
| `onKeydown(event: KeyboardEvent)` | `HostListener` | ูุฏุฑุช ูุงูุจุฑ ุจุง ฺฉุจูุฑุฏ (`ArrowUp/Down`) ู ุงูุชุฎุงุจ ุจุง `Enter`. |
| `onDocumentClick(event: MouseEvent)` | `HostListener` | ุจุณุชู ูุณุช ูพุดููุงุฏุงุช ุฏุฑ ุตูุฑุช ฺฉูฺฉ ุฎุงุฑุฌ ุงุฒ ฺฉุงููพูููุช ู ูพุงฺฉุณุงุฒ ฺฉุด. |
| `isResultEmpty` | `Computed Signal` | ูุญุงุณุจู ูุถุนุช ููุงุด ูพุงู "ูุชุฌูโุง ุงูุช ูุดุฏ". |
| `getDropDownStyle()` | `Method` | ูุญุงุณุจู ู ุจุงุฒฺฏุฑุฏุงูุฏู ุงุณุชุงู ุงุฑุชูุงุน ู ุนุฑุถ Dropdown ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ูุชุงุฌ. |

-----

## ๐ ููููู ุงุณุชูุงุฏู (HTML)

```html
<form [formGroup]="userForm">
  <app-search-auto-complete
    [control]="userForm.get('userId')!"
    placeholder="ุฌุณุชุฌู ฺฉุงุฑุจุฑุงู..."
    [minLength]="4"
    [optionLabel]="'fullName'" 
    [lazySearch]="searchUsers" 
    [cachingMode]="'CharacterPrefix'"
    (selectSuggestion)="onUserSelected($event)"
  ></app-search-auto-complete>
</form>

// ูุฑุถ ฺฉูุฏ T ุงุฒ ููุน User ุงุณุช: { id: number, fullName: string }
searchUsers = async (query: string): Promise<User[]> => {
  // ุงู ุชุงุจุน ุจุง ูุฑุงุฎูุงู APIุ ูุชุงุฌ ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ.
  return this.userService.findUsers(query).toPromise(); 
};
```

-----

## ๐ก ูฺฉุงุช ุงุณุชูุงุฏู

  * **ููุน ุนููู (Generic):** ุงู ฺฉุงููพูููุช ุงุฒ ููุน ุนููู `<T>` ุงุณุชูุงุฏู ูโฺฉูุฏุ ุจูุงุจุฑุงู ุงุทููุงู ุญุงุตู ฺฉูุฏ ฺฉู ูุฑูุฏ `optionLabel` ุจุง ฺฉ ุงุฒ ฺฉูุฏูุง ุขุจุฌฺฉุช `T` ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.
  * **ฺฉุดูฺฏ:** ุฏุฑ ุญุงูุช ูพุดโูุฑุถ (`CharacterPrefix`)ุ ุงฺฏุฑ ุญุฏุงูู ณ ฺฉุงุฑุงฺฉุชุฑ ุงูู ูุฑูุฏ ฺฉุณุงู ุจุงุดุฏุ ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุจู ุณุฑูุฑ ุงุฑุณุงู ููโุดูุฏ ู ุงุฒ ูุชุงุฌ ฺฉุด ุดุฏู ุงุณุชูุงุฏู ูโฺฏุฑุฏุฏ.
  * **ฺฉูุชุฑู ฺฉุงูู:** ุงู ฺฉุงููพูููุช ุดุงูู ฺฉุงููพูููุช ุฏุงุฎู `TextInputComponent` ุจุฑุง ูุฏุฑุช ูุฑูุฏ ุงุตู ุงุณุช.
  * **ุจุณุชูโุดุฏู ููุดููุฏ:** ุจุง ฺฉูฺฉ ุง ููฺฉูุณ ุฎุงุฑุฌ ุงุฒ ฺฉุงููพูููุชุ ูุณุช ูพุดููุงุฏุงุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจุณุชู ูโุดูุฏ.