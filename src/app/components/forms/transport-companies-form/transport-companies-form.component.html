<div class="flex justify-center w-full">
  <!-- جستجوی شرکت حمل و نقل -->
  <app-search-auto-complete
    [placeholder]="'نام ' + appTitle.getPlaceholder('transportCompanyTitle')"
    class="min-w-[70%]"
    optionLabel="TCTitle"
    optionValue="TCTitle"
    [lazySearch]="searchTransportCompony"
    [minLength]="3"
    (selectSuggestion)="onTransportComponySelect($event)"
  />
</div>

<!-- فرم اطلاعات شرکت حمل و نقل -->
<form [formGroup]="transportComponyForm" class="mt-10">
  <app-form-inputs-section>
    <app-form-inputs-section [flexDir]="'flex-row'" [isCard]="false">
      <!-- کد شرکت -->
      <app-text-input
        class="flex-1"
        [label]="appTitle.inputs.transportCompanies.transportCompanyId"
        [control]="TCId"
        [readOnly]="true"
        [addonWidth]="addonWidth"
      />

      <!-- عنوان شرکت -->
      <app-text-input
        class="flex-1"
        [label]="appTitle.inputs.transportCompanies.transportCompanyName"
        [control]="TCTitle"
        [readOnly]="true"
        [addonWidth]="addonWidth"
      />
    </app-form-inputs-section>

    <app-form-inputs-section [flexDir]="'flex-row'" [isCard]="false">
      <!-- کد سازمانی -->
      <app-text-input
        class="w-full"
        [label]="
          appTitle.inputs.transportCompanies.transportCompanyOrganizationId
        "
        [control]="TCOrganizationCode"
        [readOnly]="true"
        [addonWidth]="addonWidth"
      />

      <!-- شهر استقرار -->
      <app-text-input
        class="w-full"
        [label]="appTitle.inputs.transportCompanies.transportCompanyLocation"
        [control]="TCCityTitle"
        [readOnly]="true"
        [addonWidth]="addonWidth"
      />
    </app-form-inputs-section>

    <app-form-inputs-section [flexDir]="'flex-row'" [isCard]="false">
      <!-- تلفن -->
      <app-text-input
        class="w-full"
        [label]="appTitle.inputs.global.phoneNumber"
        [placeholder]="appTitle.getPlaceholder('globalPhoneNumberPlaceholder')"
        [control]="TCTel"
        validationField="telephone"
        [addonWidth]="addonWidth"
        type="number"
      />

      <!-- موبایل مدیر -->
      <app-text-input
        class="w-full"
        [label]="
          appTitle.inputs.transportCompanies.transportCompanyOwnerPhoneNumber
        "
        [placeholder]="
          appTitle.getPlaceholder('transportCompanyOwnerPhoneNumber')
        "
        validationField="mobile"
        [control]="TCManagerMobileNumber"
        [addonWidth]="addonWidth"
        type="number"
      />
    </app-form-inputs-section>

    <app-form-inputs-section [flexDir]="'flex-row'" [isCard]="false">
      <!-- نام و نام خانوادگی مدیر -->
      <app-text-input
        class="w-full"
        [label]="appTitle.inputs.transportCompanies.transportCompanyOwnerName"
        [placeholder]="appTitle.getPlaceholder('transportCompanyOwnerName')"
        validationField="fullName"
        [control]="TCManagerNameFamily"
        [addonWidth]="addonWidth"
      />

      <!-- ایمیل -->
      <app-text-input
        class="w-full"
        [label]="appTitle.inputs.global.email"
        [placeholder]="appTitle.getPlaceholder('globalEmailPlaceholder')"
        validationField="email"
        [control]="EmailAddress"
        [addonWidth]="addonWidth"
        language="any"
      />
    </app-form-inputs-section>

    <!-- وضعیت -->
    <app-toggle-switch-input
      [readonly]="this.TCId.invalid"
      class="col-span-12 flex px-4"
      [label]="appTitle.toggleSwitches.status"
      [control]="Active"
      (valueChagne)="changeStatusTransportCompony($event)"
    />
  </app-form-inputs-section>

  <!-- دکمه‌های عملیات -->
  <app-form-buttons-section>
    <app-button
      (click)="editTransportCompony()"
      [disabled]="transportComponyForm.invalid || loading()"
      [label]="appTitle.buttons.saveAndEdit"
      class="w-full md:w-fit"
      styleClass="my-2 md:my-0 text-xs md:text-sm lg:text-base w-full md:w-36 lg:w-40"
    ></app-button>

    <app-button
      (click)="activateTransportComponySms()"
      [disabled]="TCId.invalid || loading()"
      severity="warn"
      [label]="appTitle.buttons.activateSMS"
      class="w-full md:w-fit"
      styleClass="my-2 md:my-0 text-xs md:text-sm lg:text-base w-full md:w-36 lg:w-40"
    ></app-button>

    <app-button
      (click)="confirmResetPassword()"
      [disabled]="TCId.invalid || loading()"
      severity="info"
      [label]="appTitle.buttons.generateNewPassword"
      class="w-full md:w-fit"
      styleClass="my-2 md:my-0 text-xs md:text-sm lg:text-base w-full md:w-36 lg:w-40"
    ></app-button>
  </app-form-buttons-section>
</form>

<!-- دیالوگ تایید -->
<p-confirmDialog
  position="top"
  acceptLabel="تایید"
  rejectLabel="انصراف"
  acceptButtonStyleClass="px-8 app-button-danger py-2 text-sm"
  rejectButtonStyleClass="px-6 app-button-secondary py-2 text-sm"
/>
