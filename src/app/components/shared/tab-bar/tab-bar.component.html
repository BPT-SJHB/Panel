<div class="card">
  <p-tabs [value]="(tabActive$ | async)?.id ?? 0" class="w-full">
    <div class="overflow-x-auto w-full">
      <p-tablist class="flex-nowrap flex min-w-max border-none">
        @for (tab of tabs; track tab.id) {
        <div class="relative flex items-center">
          <div (click)="onTabClick(tab.id)">
            <p-tab
              [value]="tab.id"
              class="pl-5 py-1 h-2rem hover:surface-100"
              [ngClass]="{
                'surface-50': (tabActive$ | async)?.id === tab.id,
                'shadow-5': (tabActive$ | async)?.id === tab.id
              }"
            >
              <span class="text-xs">{{ tab.title }}</span>
            </p-tab>
          </div>

          @if (tab.closable) {
          <i
            style="position: absolute; left: 5px; top: 5px; z-index: 2"
            class="pi pi-times text-xs cursor-pointer text-red-300 hover:text-red-500"
            (click)="onCloseTab(tab.id)"
          ></i>
          }
        </div>
        }
      </p-tablist>
    </div>
  </p-tabs>
</div>
